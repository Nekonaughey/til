
/* NOTE: RouteComponentについて
  hocでラップ下コンポーネントを単純にhooksrouterに渡すと、reactが警告を出す
  例えば、authNが認証を強制するHOCだとする。

  <hooksrouter>
  const routing = {
    '/': AuthN(() => <TopPage />)
  }

  <errorメッセージ>
  ErrorMessage: "React has detected a change in the order of Hooks"
 
  hooksはfunctional componentの最上位でしか記述できず、関数内などでは呼べないという制約があり、
  そのような制約に引っかかった場合にでる警告のようだが、今回何が問題なのかは不明。
  
  authNの中で、() => <WrappedComponent /> のような返し方をすれば警告は出なかった。
　現状は、HOCを使ってないので問題になるケースはない。
  
  ここに、HOC内でhooksを使うとエラーが出るという記載もあるが、今回は当てはまらないように思う。
  https://github.com/facebook/react/issues/15315#issuecomment-479742163
*/



/**
 * 認証済みであればChildをそのまま表示し、認証済みでなければSignInFormを表示するHOC。
 * @param Child
 */
// export const requireAuthN = <ChildProps extends {}>(Child: React.FC<ChildProps>): React.FC<ChildProps> => {
//   const WrappedComponent: React.FC<ChildProps> = props => {
//     const { useAuth } = useContext(IamContext);
//     const { ...rest } = props;

//     // Userが存在する＝ログイン済み
//     if (useAuth.currentIdToken()) return <Child {...(rest as ChildProps)} />;
//     return <AuthNForm />;
//   };

//   // RouteComponentについては、下部のコメント参照。
//   const RouteComponent = (props: ChildProps) => <WrappedComponent {...props} />;
//   return RouteComponent;
// };
